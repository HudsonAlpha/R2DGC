{
    "collab_server" : "",
    "contents" : "#Add colored rectangles\nplot.new()\nrect(0,0.6,1/3,0.867, col=\"indianred1\")\nrect(1/3,0.6,2/3,0.867, col=\"steelblue2\")\nrect(2/3,0.6,3/3,0.867, col=\"springgreen3\")\n#Label boxes\ntext(0.5,0.9, \"Metabolomics Data Processing\", cex=1.5)\ntext(1/6,0.85, \"Raw Signal Filtering\\nand Peak Calling\\n(Chromatof)\", pos=1,cex=0.8,)\ntext(3/6,0.85, \"Multi-sample Peak\\nAlignment and\\nMetabolite Identification\\n(R2DGC)\", cex=0.8, pos=1)\ntext(5/6,0.85, \"Data Normalization\\nand Statistical\\nInference\\n(Metaboanalyst)\", pos=1,cex=0.8,)\narrows(0.1,0.65,0.9,0.65,length = 0.1 ,lwd=3)\n#Add box1 peaks\npoints(seq(0,0.2,(0.2-0)/8),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)*0.5)+0.45,type=\"l\", lwd=3)\npoints(seq(0.1,0.3,(0.3-0.1)/8),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)*0.5)+0.45,type=\"l\", lwd=3)\npoints(seq(0,0.15,(0.15-0)/8),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)*0.5)+0.22,type=\"l\", lwd=3)\npoints(seq(0.16,0.3,(0.3-0.16)/8),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)*0.5)+0.22,type=\"l\", lwd=3)\n#Add box2 peaks\npoints(seq(0,0.13,(0.13-0)/8)+(0.36),(c(0.0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.26,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.34),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.26,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.36),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.32,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.34),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.32,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.36),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.38,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.34),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.38,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.36),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.44,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.34),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.44,type=\"l\", lwd=3)\n#Add box3 peaks\npoints(seq(0,0.13,(0.13-0)/8)+(0.7),(c(0.0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.2,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.69),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.2,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.7),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.26,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.69),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.26,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.7),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.42,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.69),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.42,type=\"l\", lwd=3)\npoints(seq(0,0.13,(0.13-0)/8)+(0.7),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.48,type=\"l\", lwd=3)\npoints(seq(0.17,0.3,(0.3-0.17)/8)+(0.69),(c(0,0.08,0.12,0.15,0.16,0.15,0.13,0.09,0)/3)+0.48,type=\"l\", lwd=3)\nrect(xleft = 0.69,ybottom = 0.19,xright = 1,0.325, lwd = 3)\nrect(xleft = 0.69,ybottom = 0.41,xright = 1,0.546, lwd = 3)\ntext(0.85, 0.565, \"Group A\")\ntext(0.85, 0.345, \"Group B\")\n#Add dashed lines between peaks\narrows(1/3,0.2,1/3,0.6,code = 0,lty=2)\narrows(2/3,0.2,2/3,0.6,code = 0,lty=2)\narrows(1/6.5,0.28,1/6.5,0.45,code = 1, length=0.1,lwd=2)\ntext(0.5, 0, \"Figure 1. Overview of metabolomics data processing\",cex=0.8)\n\n########R2DGC basic workflow\n\nplot.new()\ntext(0.5,1,\"Input Sample\\nChromatof File Paths\", cex=0.8)\narrows(0.5,0.96,0.5,0.905,length=0.1, lwd=2)\nrect(0.3,0.75,0.7,0.9, col=\"springgreen3\")\ntext(0.5,0.83,\"Ion Filtering\\n(FindProblemIons)\")\narrows(0.5,0.745,0.5,0.705,length=0.1, lwd=2)\nrect(0.3,0.55,0.7,0.7, col=\"steelblue2\")\ntext(0.5,0.63,\"Intra-Sample\\nPeak Compression\\n(PrecompressFiles)\")\narrows(0.5,0.545,0.5,0.505,length=0.1, lwd=2)\nrect(0.3,0.3,0.7,0.5, col=\"indianred1\")\ntext(0.5,0.4,\"Multi-Sample Peak\\nAlignment and\\nMetabolite Identification\\n(ConsensusAlign)\")\nrect(0.8,0.5,1,0.65, col=\"plum3\")\ntext(0.9,0.58,\"Standard Library\\nCreation\\n(MakeReference)\", cex=0.7)\ntext(0.9,0.77,\"Input Metabolite\\nStandard\\nChromatof File Paths\", cex=0.8)\narrows(0.9,0.71,0.9,0.655,length=0.1, lwd=2)\narrows(0.9,0.495,0.705,0.4,length=0.1, lwd=2)\narrows(0.5,0.295,0.5,0.255,length=0.1, lwd=2)\nrect(-0.02,0.03,1.02,0.25,col=\"snow2\")\ntext(0.5,0.225,\"Output List\")\nrect(0,0.05,0.3,0.2, col=\"wheat1\")\ntext(0.15,0.13,\"Peak Alignment Table\", cex=0.8)\nrect(0.35,0.05,0.65,0.2, col=\"khaki2\")\ntext(0.5,0.13,\"Peak Info Table\", cex=0.8)\nrect(0.7,0.05,1,0.2, col=\"lightgoldenrod\")\ntext(0.85,0.13,\"Incongruent Quant\\nMass List\", cex=0.8)\ntext(0.5, 0, \"Figure 2. Basic Workflow. Functions shown in parenthesis\",cex=0.8)\n\n\na<-c(1,10,300)\nb<-c(300,10,1)\na%*%b/(sqrt(sum(a*a))*sqrt(sum(b*b)))\n\nsqrt(sum(a*a))\nsqrt(sum(b*b))\n\nsqrt(sum(a*a))*sqrt(sum(b*b))\n\nplot.new()\npoints(c(.1,.35,.3,.8),rep(0.8,4), pch=16, col=c(\"black\",\"red\",\"black\",\"black\"))\ntext(c(.1,.35,.5,.8),rep(0.85,5), labels = c(\"Std1\",\"Analyte\",\"Std2\",\"Std3\"))\narrows(x0 = 0, y0 = 0.7,x1 = 1,y1 = 0.7, code=0, lwd=3)\narrows(x0 = c(0,0.2,0.4,0.6,0.8,1), y0 = rep(0.7,6),x1 = c(0,0.2,0.4,0.6,0.8,1),y1 = rep(0.65,6), code=0, lwd=3)\ntext(c(0,0.2,0.4,0.6,0.8,1),rep(0.62,6), labels = c(seq(0,10,2)))\ntext(0.5,0.72, labels = \"Retention Time\",cex=0.75)\n\narrows(x0 = .1, y0 = 0.5,x1 = .8,y1 = 0.5, code=0, lwd=2)\ntext(0.45,0.52, labels = substitute(paste(italic(\"T\"),\"=7\")))\narrows(x0 = c(.1,.8), y0 = rep(0.49,2),x1 = c(.1,.8),y1 = rep(0.51,2), code=0, lwd=2)\n\narrows(x0 = .1, y0 = 0.4,x1 = .35,y1 = 0.4, code=0, lwd=2)\ntext(.225,0.43, labels = expression(italic(\"d\"[1])*\"= -2.5\"))\narrows(x0 = c(.1,.35), y0 = rep(0.39,2),x1 = c(.1,.35),y1 = rep(0.41,2), code=0, lwd=2)\n\narrows(x0 = .5, y0 = 0.3,x1 = .35,y1 = 0.3, code=0, lwd=2)\ntext(.425,0.33, labels = expression(italic(\"d\"[2])*\"= 1.5\"))\narrows(x0 = c(.5,.35), y0 = rep(0.29,2),x1 = c(.5,.35),y1 = rep(0.31,2), code=0, lwd=2)\n\narrows(x0 = .8, y0 = 0.2,x1 = .35,y1 = 0.2, code=0, lwd=2)\ntext(.575,0.23, labels = expression(italic(\"d\"[3])*\"= 4.5\"))\narrows(x0 = c(.8,.35), y0 = rep(0.19,2),x1 = c(.8,.35),y1 = rep(0.21,2), code=0, lwd=2)\ntext(.5,0, labels = \"Figure 4. Computing retention index values\", cex=0.75)\n\n\nplot.new()\npoints(c(.1,.35,.3,.5),rep(0.8,4), pch=16, col=c(\"black\",\"red\",\"black\",\"black\"))\ntext(c(.1,.35,.3,.5),c(0.85,.75,.85,0.85), labels = c(\"Std1\",\"\",\"Std2\",\"Std3\"), cex=0.8)\nrect(xleft = 0.05,ybottom = 0.75,xright = 0.55,ytop = 0.88)\ntext(0.3,0.9,\"Column1\")\npoints(c(.2,.4,.6),rep(0.6,3), pch=16, col=c(\"black\",\"black\",\"black\"))\ntext(c(.2,.4,.6),rep(0.65,5), labels = c(\"Std1\",\"Std2\",\"Std3\"),cex=0.8)\nrect(xleft = 0.15,ybottom = 0.55,xright = 0.65,ytop = 0.68)\ntext(0.4,0.7,\"Column2\")\npoints(c(.1,.5,1),rep(0.4,3), pch=16, col=c(\"black\",\"black\",\"black\"))\ntext(c(.1,.5,1),rep(0.45,5), labels = c(\"Std1\",\"Std2\",\"Std3\"),cex=0.8)\nrect(xleft = 0.05,ybottom = 0.35,xright = 1.03,ytop = 0.48)\ntext(0.55,0.5,\"Column3\")\narrows(x0 = 0, y0 = 0.3,x1 = 1,y1 = 0.3, code=0, lwd=3)\narrows(x0 = c(0,0.2,0.4,0.6,0.8,1), y0 = rep(0.3,6),x1 = c(0,0.2,0.4,0.6,0.8,1),y1 = rep(0.25,6), code=0, lwd=3)\ntext(c(0,0.2,0.4,0.6,0.8,1),rep(0.22,6), labels = c(seq(0,10,2)))\ntext(0.5,0.32, labels = \"Retention Time\",cex=0.75)\ntext(.5,.05, labels = \"Figure 5. Testing retention index values\", cex=0.75)\n\n\nFAME_Standards<-c(1,3,5)\nTotal_Standard_Length<-(max(FAME_Standards)-min(FAME_Standards))\nAnalyte1_RT<-3.5\nAnalyte1_RetentionIndex<- (FAME_Standards-Analyte1_RT)/Total_Standard_Length\n\nIndexDifferences<-c()\nfor(Analyte2_RT in seq(0,10,0.1)){\n  Analyte2_RetentionIndex<- (FAME_Standards-Analyte2_RT)/Total_Standard_Length\n  IndexDifferences[as.character(Analyte2_RT)]<-sum(abs(Analyte2_RetentionIndex-Analyte1_RetentionIndex))\n}\nplot(seq(0,10,0.1),IndexDifferences, pch=16, xlab=\"Analyte 2 Retention Time\", ylab=\"Difference\")\n\nFAME_Standards1<-c(1,3,5)\nTotal_Standard_Length1<-(max(FAME_Standards1)-min(FAME_Standards1))\nAnalyte1_RT<-3.5\nAnalyte1_RetentionIndex<- (FAME_Standards1-Analyte1_RT)/Total_Standard_Length\nFAME_Standards2<-c(2,4,6)\nTotal_Standard_Length2<-(max(FAME_Standards2)-min(FAME_Standards2))\nIndexDifferences<-c()\nfor(Analyte2_RT in seq(0,10,0.1)){\n  Analyte2_RetentionIndex<- (FAME_Standards2-Analyte2_RT)/Total_Standard_Length2\n  IndexDifferences[as.character(Analyte2_RT)]<-sum(abs(Analyte2_RetentionIndex-Analyte1_RetentionIndex))\n}\nplot(seq(0,10,0.1),IndexDifferences, pch=16, xlab=\"Analyte 2 Retention Time\", ylab=\"Retention Index Difference\")\n\n\nFAME_Standards1<-c(1,3,5)\nTotal_Standard_Length1<-(max(FAME_Standards1)-min(FAME_Standards1))\nAnalyte1_RT<-3.5\nAnalyte1_RetentionIndex<- (FAME_Standards1-Analyte1_RT)/Total_Standard_Length\nFAME_Standards2<-c(1,5,10)\nTotal_Standard_Length2<-(max(FAME_Standards2)-min(FAME_Standards2))\nIndexDifferences<-c()\nfor(Analyte2_RT in seq(0,10,0.1)){\n  Analyte2_RetentionIndex<- (FAME_Standards2-Analyte2_RT)/Total_Standard_Length2\n  IndexDifferences[as.character(Analyte2_RT)]<-sum(abs(Analyte2_RetentionIndex-Analyte1_RetentionIndex))\n}\nplot(seq(0,10,0.1),IndexDifferences, pch=16, xlab=\"Analyte 2 Retention Time\", ylab=\"Retention Index Difference\")\n\n\nplot.new()\nrect(xleft = 0.25,ybottom = 0.9,xright = 0.75,ytop = 1, col=\"springgreen3\")\ntext(0.5,0.95,\"Read in sample files\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.9,x1 = 0.5,y1 = 0.875,length=0.05, lwd=2)\n\nrect(0.25,0.775,0.75,0.875, col=\"wheat1\")\ntext(0.5,0.825,\"Optional: Compute retention indices\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.775,x1 = 0.5,y1 = 0.75,length=0.05, lwd=2)\n\nrect(0.25,0.65,0.75,.75, col=\"indianred1\")\ntext(0.5,0.7,\"Compute pairwise sample-seed\\npeak similarity scores\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.65,x1 = 0.5,y1 = 0.625,length=0.05, lwd=2)\n\nrect(0.25,0.525,0.75,.625, col=\"khaki2\")\ntext(0.5,0.575,\"Optional: compute optimal\\npeak similarity threshold\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.525,x1 = 0.5,y1 = 0.5,length=0.05, lwd=2)\n\nrect(0.25,0.4,0.75,.5, col=\"steelblue2\")\ntext(0.5,0.45,\"Find best peak pairs above\\npeak similarity threshold\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.4,x1 = 0.5,y1 = 0.375,length=0.05, lwd=2)\n\nrect(0.25,0.275,0.75,.375, col=\"plum3\")\ntext(0.5,0.325,\"Optional: Relaxed threshold search\\nfor high likelihood missing peaks\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.275,x1 = 0.5,y1 = 0.25,length=0.05, lwd=2)\n\nrect(0.25,0.15,0.75,.25, col=\"lightgoldenrod\")\ntext(0.5,0.2,\"Optional: Identify aligned\\npeaks with reference library\", cex=0.75)\narrows(x0 = 0.5,y0 = 0.15,x1 = 0.5,y1 = 0.125,length=0.05, lwd=2)\n\narrows(x0 = 0.1,y0 = 0.325,x1 = 0.1,y1 = 0.7, lwd=2, code=0)\narrows(x0 = 0.25,y0 = 0.325,x1 = 0.1,y1 = 0.325, lwd=2, code=0)\narrows(x0 = 0.25,y0 = 0.7,x1 = 0.1,y1 = 0.7, lwd=2, length=0.05, code=1)\nrect(0,0.45,0.2,0.575, col=\"coral\")\ntext(0.1,0.515, \"Optional: repeat\\nalignment with\\nmultiple seeds\", cex=0.7)\n\nrect(0,0,0.3,0.09, col=\"cadetblue2\")\ntext(0.15,0.045,\"Peak Alignment Table\", cex=0.8)\nrect(0.35,0.0,0.65,0.09, col=\"navajowhite\")\ntext(0.5,0.045,\"Peak Info Table\", cex=0.8)\nrect(0.7,0.0,1,0.09, col=\"pink2\")\ntext(0.85,0.045,\"Incongruent Quant\\nMass List\", cex=0.8)\ntext(0.5,.105, \"Outputs\", cex=0.8)\nrect(0,0,1,0.09)\ntext(0.5,-0.02, \"Figure 9. Overview of ConsensusAlign function.\", cex=0.7)\n",
    "created" : 1488131137551.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "837232564",
    "id" : "8884C26C",
    "lastKnownWriteTime" : 1488341661,
    "last_content_update" : 1488341661867,
    "path" : "~/Desktop/R2DGC/R/Untitled.R",
    "project_path" : "R/Untitled.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}